var br=Object.defineProperty,mr=Object.defineProperties;var yr=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var _r=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable;var ye=(y,O,g)=>O in y?br(y,O,{enumerable:!0,configurable:!0,writable:!0,value:g}):y[O]=g,B=(y,O)=>{for(var g in O||(O={}))_r.call(O,g)&&ye(y,g,O[g]);if(me)for(var g of me(O))Tr.call(O,g)&&ye(y,g,O[g]);return y},ot=(y,O)=>mr(y,yr(O));(function(y,O){typeof exports=="object"&&typeof module!="undefined"?O(exports,require("vue"),require("@wangeditor/editor")):typeof define=="function"&&define.amd?define(["exports","vue","@wangeditor/editor"],O):(y=typeof globalThis!="undefined"?globalThis:y||self,O(y.wangEditor5ForVue2={},y.Vue,y.wangEditor))})(this,function(y,O,g){"use strict";function _e(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Z=_e(O),H=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},pt={exports:{}};(function(n,o){var l=200,u="__lodash_hash_undefined__",c=9007199254740991,d="[object Arguments]",b="[object Array]",h="[object Boolean]",_="[object Date]",j="[object Error]",M="[object Function]",A="[object GeneratorFunction]",T="[object Map]",i="[object Number]",a="[object Object]",f="[object Promise]",w="[object RegExp]",v="[object Set]",C="[object String]",F="[object Symbol]",$="[object WeakMap]",I="[object ArrayBuffer]",p="[object DataView]",N="[object Float32Array]",P="[object Float64Array]",et="[object Int8Array]",Wt="[object Int16Array]",Pt="[object Int32Array]",Kt="[object Uint8Array]",kt="[object Uint8ClampedArray]",Ut="[object Uint16Array]",Vt="[object Uint32Array]",Ve=/[\\^$.*+?()[\]{}|]/g,qe=/\w*$/,Ge=/^\[object .+?Constructor\]$/,Je=/^(?:0|[1-9]\d*)$/,m={};m[d]=m[b]=m[I]=m[p]=m[h]=m[_]=m[N]=m[P]=m[et]=m[Wt]=m[Pt]=m[T]=m[i]=m[a]=m[w]=m[v]=m[C]=m[F]=m[Kt]=m[kt]=m[Ut]=m[Vt]=!0,m[j]=m[M]=m[$]=!1;var ze=typeof H=="object"&&H&&H.Object===Object&&H,Xe=typeof self=="object"&&self&&self.Object===Object&&self,D=ze||Xe||Function("return this")(),qt=o&&!o.nodeType&&o,Gt=qt&&!0&&n&&!n.nodeType&&n,Ze=Gt&&Gt.exports===qt;function Ye(t,e){return t.set(e[0],e[1]),t}function Qe(t,e){return t.add(e),t}function tn(t,e){for(var r=-1,s=t?t.length:0;++r<s&&e(t[r],r,t)!==!1;);return t}function en(t,e){for(var r=-1,s=e.length,E=t.length;++r<s;)t[E+r]=e[r];return t}function Jt(t,e,r,s){var E=-1,S=t?t.length:0;for(s&&S&&(r=t[++E]);++E<S;)r=e(r,t[E],E,t);return r}function nn(t,e){for(var r=-1,s=Array(t);++r<t;)s[r]=e(r);return s}function rn(t,e){return t==null?void 0:t[e]}function zt(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch(r){}return e}function Xt(t){var e=-1,r=Array(t.size);return t.forEach(function(s,E){r[++e]=[E,s]}),r}function vt(t,e){return function(r){return t(e(r))}}function Zt(t){var e=-1,r=Array(t.size);return t.forEach(function(s){r[++e]=s}),r}var on=Array.prototype,an=Function.prototype,lt=Object.prototype,wt=D["__core-js_shared__"],Yt=function(){var t=/[^.]+$/.exec(wt&&wt.keys&&wt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Qt=an.toString,K=lt.hasOwnProperty,ut=lt.toString,sn=RegExp("^"+Qt.call(K).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=Ze?D.Buffer:void 0,ee=D.Symbol,ne=D.Uint8Array,cn=vt(Object.getPrototypeOf,Object),ln=Object.create,un=lt.propertyIsEnumerable,fn=on.splice,re=Object.getOwnPropertySymbols,dn=te?te.isBuffer:void 0,hn=vt(Object.keys,Object),Ot=z(D,"DataView"),nt=z(D,"Map"),Et=z(D,"Promise"),jt=z(D,"Set"),At=z(D,"WeakMap"),rt=z(Object,"create"),gn=V(Ot),pn=V(nt),bn=V(Et),mn=V(jt),yn=V(At),oe=ee?ee.prototype:void 0,ie=oe?oe.valueOf:void 0;function k(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}function _n(){this.__data__=rt?rt(null):{}}function Tn(t){return this.has(t)&&delete this.__data__[t]}function vn(t){var e=this.__data__;if(rt){var r=e[t];return r===u?void 0:r}return K.call(e,t)?e[t]:void 0}function wn(t){var e=this.__data__;return rt?e[t]!==void 0:K.call(e,t)}function On(t,e){var r=this.__data__;return r[t]=rt&&e===void 0?u:e,this}k.prototype.clear=_n,k.prototype.delete=Tn,k.prototype.get=vn,k.prototype.has=wn,k.prototype.set=On;function R(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}function En(){this.__data__=[]}function jn(t){var e=this.__data__,r=ft(e,t);if(r<0)return!1;var s=e.length-1;return r==s?e.pop():fn.call(e,r,1),!0}function An(t){var e=this.__data__,r=ft(e,t);return r<0?void 0:e[r][1]}function Sn(t){return ft(this.__data__,t)>-1}function Cn(t,e){var r=this.__data__,s=ft(r,t);return s<0?r.push([t,e]):r[s][1]=e,this}R.prototype.clear=En,R.prototype.delete=jn,R.prototype.get=An,R.prototype.has=Sn,R.prototype.set=Cn;function G(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var s=t[e];this.set(s[0],s[1])}}function xn(){this.__data__={hash:new k,map:new(nt||R),string:new k}}function Mn(t){return dt(this,t).delete(t)}function Fn(t){return dt(this,t).get(t)}function $n(t){return dt(this,t).has(t)}function In(t,e){return dt(this,t).set(t,e),this}G.prototype.clear=xn,G.prototype.delete=Mn,G.prototype.get=Fn,G.prototype.has=$n,G.prototype.set=In;function J(t){this.__data__=new R(t)}function Ln(){this.__data__=new R}function Nn(t){return this.__data__.delete(t)}function Dn(t){return this.__data__.get(t)}function Rn(t){return this.__data__.has(t)}function Bn(t,e){var r=this.__data__;if(r instanceof R){var s=r.__data__;if(!nt||s.length<l-1)return s.push([t,e]),this;r=this.__data__=new G(s)}return r.set(t,e),this}J.prototype.clear=Ln,J.prototype.delete=Nn,J.prototype.get=Dn,J.prototype.has=Rn,J.prototype.set=Bn;function Hn(t,e){var r=xt(t)||lr(t)?nn(t.length,String):[],s=r.length,E=!!s;for(var S in t)(e||K.call(t,S))&&!(E&&(S=="length"||ir(S,s)))&&r.push(S);return r}function ae(t,e,r){var s=t[e];(!(K.call(t,e)&&ue(s,r))||r===void 0&&!(e in t))&&(t[e]=r)}function ft(t,e){for(var r=t.length;r--;)if(ue(t[r][0],e))return r;return-1}function Wn(t,e){return t&&se(e,Mt(e),t)}function St(t,e,r,s,E,S,L){var x;if(s&&(x=S?s(t,E,S,L):s(t)),x!==void 0)return x;if(!ht(t))return t;var he=xt(t);if(he){if(x=nr(t),!e)return Qn(t,x)}else{var X=U(t),ge=X==M||X==A;if(fr(t))return qn(t,e);if(X==a||X==d||ge&&!S){if(zt(t))return S?t:{};if(x=rr(ge?{}:t),!e)return tr(t,Wn(x,t))}else{if(!m[X])return S?t:{};x=or(t,X,St,e)}}L||(L=new J);var pe=L.get(t);if(pe)return pe;if(L.set(t,x),!he)var be=r?er(t):Mt(t);return tn(be||t,function(Ft,gt){be&&(gt=Ft,Ft=t[gt]),ae(x,gt,St(Ft,e,r,s,gt,t,L))}),x}function Pn(t){return ht(t)?ln(t):{}}function Kn(t,e,r){var s=e(t);return xt(t)?s:en(s,r(t))}function kn(t){return ut.call(t)}function Un(t){if(!ht(t)||sr(t))return!1;var e=de(t)||zt(t)?sn:Ge;return e.test(V(t))}function Vn(t){if(!le(t))return hn(t);var e=[];for(var r in Object(t))K.call(t,r)&&r!="constructor"&&e.push(r);return e}function qn(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function Ct(t){var e=new t.constructor(t.byteLength);return new ne(e).set(new ne(t)),e}function Gn(t,e){var r=e?Ct(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function Jn(t,e,r){var s=e?r(Xt(t),!0):Xt(t);return Jt(s,Ye,new t.constructor)}function zn(t){var e=new t.constructor(t.source,qe.exec(t));return e.lastIndex=t.lastIndex,e}function Xn(t,e,r){var s=e?r(Zt(t),!0):Zt(t);return Jt(s,Qe,new t.constructor)}function Zn(t){return ie?Object(ie.call(t)):{}}function Yn(t,e){var r=e?Ct(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Qn(t,e){var r=-1,s=t.length;for(e||(e=Array(s));++r<s;)e[r]=t[r];return e}function se(t,e,r,s){r||(r={});for(var E=-1,S=e.length;++E<S;){var L=e[E],x=s?s(r[L],t[L],L,r,t):void 0;ae(r,L,x===void 0?t[L]:x)}return r}function tr(t,e){return se(t,ce(t),e)}function er(t){return Kn(t,Mt,ce)}function dt(t,e){var r=t.__data__;return ar(e)?r[typeof e=="string"?"string":"hash"]:r.map}function z(t,e){var r=rn(t,e);return Un(r)?r:void 0}var ce=re?vt(re,Object):gr,U=kn;(Ot&&U(new Ot(new ArrayBuffer(1)))!=p||nt&&U(new nt)!=T||Et&&U(Et.resolve())!=f||jt&&U(new jt)!=v||At&&U(new At)!=$)&&(U=function(t){var e=ut.call(t),r=e==a?t.constructor:void 0,s=r?V(r):void 0;if(s)switch(s){case gn:return p;case pn:return T;case bn:return f;case mn:return v;case yn:return $}return e});function nr(t){var e=t.length,r=t.constructor(e);return e&&typeof t[0]=="string"&&K.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function rr(t){return typeof t.constructor=="function"&&!le(t)?Pn(cn(t)):{}}function or(t,e,r,s){var E=t.constructor;switch(e){case I:return Ct(t);case h:case _:return new E(+t);case p:return Gn(t,s);case N:case P:case et:case Wt:case Pt:case Kt:case kt:case Ut:case Vt:return Yn(t,s);case T:return Jn(t,s,r);case i:case C:return new E(t);case w:return zn(t);case v:return Xn(t,s,r);case F:return Zn(t)}}function ir(t,e){return e=e==null?c:e,!!e&&(typeof t=="number"||Je.test(t))&&t>-1&&t%1==0&&t<e}function ar(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function sr(t){return!!Yt&&Yt in t}function le(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||lt;return t===r}function V(t){if(t!=null){try{return Qt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function cr(t){return St(t,!0,!0)}function ue(t,e){return t===e||t!==t&&e!==e}function lr(t){return ur(t)&&K.call(t,"callee")&&(!un.call(t,"callee")||ut.call(t)==d)}var xt=Array.isArray;function fe(t){return t!=null&&dr(t.length)&&!de(t)}function ur(t){return hr(t)&&fe(t)}var fr=dn||pr;function de(t){var e=ht(t)?ut.call(t):"";return e==M||e==A}function dr(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=c}function ht(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function hr(t){return!!t&&typeof t=="object"}function Mt(t){return fe(t)?Hn(t):Vn(t)}function gr(){return[]}function pr(){return!1}n.exports=cr})(pt,pt.exports);var $t=pt.exports,it=(n=>(n[n.RELOAD=500]="RELOAD",n[n.UPDATE=3e3]="UPDATE",n))(it||{});const W=new WeakMap,Y=new WeakMap,bt=new WeakMap,Q=new WeakMap,at=new WeakMap,tt=new WeakMap;function It(n){const o=bt.get(n);return{editable:o,toolbar:Q.get(o)}}function q(n,o){let l=tt.get(n);l?l[1]&&(clearTimeout(l[1]),l[1]=null):tt.set(n,l=[it.RELOAD,null]),o&&(l[1]=setTimeout(()=>{l[1]=null,o()},l[0]))}function Te(n,o,l,u){if(!Q.has(n))throw new Error('You must use the Editable Opiton created by "useWangEditor" function!');function c(){var _;const d=o();if(!d)return;bt.set(d,n);const b=W.get(n);b?b.instance=d:W.set(n,{instance:d,reload:c});const h=Q.get(n);if(h){const j=(_=Y.get(h))==null?void 0:_.reload;j&&(q(h),j())}}return W.set(n,{clearContent:l,syncContent:u,reload:c}),c}function ve(n,o){if(!at.has(n))throw new Error('You must use the Toolbar Opiton created by "useWangEditor" function!');function l(){const u=at.get(n);if(!u)return;const c=W.get(u);if(!c||!c.instance)return;const d=o(c.instance);if(!d)return;bt.set(d,n);const b=Y.get(n);b?b.instance=d:Y.set(n,{instance:d,reload:l})}return Y.set(n,{reload:l}),l}function we(n=null,o=null,l=it.RELOAD){var T;const u=n?$t(n):{},c=Z.default.observable(ot(B({mode:"default",defaultContent:null,delay:it.UPDATE,extendCache:!0},u),{config:B({customPaste:void 0,hoverbarKeys:void 0,maxLength:void 0,scroll:!0,placeholder:"",readOnly:!1},u.config)})),d=o?$t(o):{},b=Z.default.observable({mode:(T=d.mode)!=null?T:"default",config:B({},d.config)});Q.set(c,b),at.set(b,c),tt.set(c,[l,null]),tt.set(b,[l,null]);function h(i){var a;return typeof i!="number"||Number.isNaN(i)?(a=W.get(c))==null?void 0:a.instance:new Promise((f,w)=>{const v=Date.now()+i;function C(){const F=h();F?f(F):Date.now()<v?requestAnimationFrame(C):w(new Error("unable to get the editable instance!"))}requestAnimationFrame(C)})}function _(i){var a;return typeof i!="number"||Number.isNaN(i)?(a=Y.get(b))==null?void 0:a.instance:new Promise((f,w)=>{const v=Date.now()+i;function C(){const F=_();F?f(F):Date.now()<v?requestAnimationFrame(C):w(new Error("unable to get the toolbar instance!"))}requestAnimationFrame(C)})}function j(){var i,a;(a=(i=W.get(c))==null?void 0:i.clearContent)==null||a.call(i)}function M(){var i,a;(a=(i=W.get(c))==null?void 0:i.syncContent)==null||a.call(i)}function A(){var a;const i=(a=W.get(c))==null?void 0:a.reload;i&&(q(b),q(c),i())}return{editable:c,toolbar:b,getEditable:h,getToolbar:_,clearContent:j,syncContent:M,reloadEditor:A}}const st=Z.default.extend({name:"WeToolbar",props:{option:{type:Object,required:!0},reloadbefore:{type:Function,default:()=>()=>{}}},created(){let n=null;const o=u=>{const c=this.$refs.elem;if(!!c)return n&&(this.reloadbefore(n),n.destroy(),delete c.dataset.wEToolbar),n=g.createToolbar(ot(B({},this.option),{editor:u,selector:c})),n},l=ve(this.option,o);this.$watch("option",()=>{var c;const u=at.get(this.option);!u||((c=tt.get(u))==null?void 0:c[1])!==null||q(this.option,l)},{deep:!0}),this.$on("hook:mounted",l),this.$on("hook:beforeDestroy",function(){!n||(n.destroy(),n=null)})},render(n){return n("div",{ref:"elem"})}});st.install=function(n){n.component("WeToolbar",st)};var Oe="Expected a function",Lt=0/0,Ee="[object Symbol]",je=/^\s+|\s+$/g,Ae=/^[-+]0x[0-9a-f]+$/i,Se=/^0b[01]+$/i,Ce=/^0o[0-7]+$/i,xe=parseInt,Me=typeof H=="object"&&H&&H.Object===Object&&H,Fe=typeof self=="object"&&self&&self.Object===Object&&self,$e=Me||Fe||Function("return this")(),Ie=Object.prototype,Le=Ie.toString,Ne=Math.max,De=Math.min,mt=function(){return $e.Date.now()};function Re(n,o,l){var u,c,d,b,h,_,j=0,M=!1,A=!1,T=!0;if(typeof n!="function")throw new TypeError(Oe);o=Nt(o)||0,yt(l)&&(M=!!l.leading,A="maxWait"in l,d=A?Ne(Nt(l.maxWait)||0,o):d,T="trailing"in l?!!l.trailing:T);function i(p){var N=u,P=c;return u=c=void 0,j=p,b=n.apply(P,N),b}function a(p){return j=p,h=setTimeout(v,o),M?i(p):b}function f(p){var N=p-_,P=p-j,et=o-N;return A?De(et,d-P):et}function w(p){var N=p-_,P=p-j;return _===void 0||N>=o||N<0||A&&P>=d}function v(){var p=mt();if(w(p))return C(p);h=setTimeout(v,f(p))}function C(p){return h=void 0,T&&u?i(p):(u=c=void 0,b)}function F(){h!==void 0&&clearTimeout(h),j=0,u=_=c=h=void 0}function $(){return h===void 0?b:C(mt())}function I(){var p=mt(),N=w(p);if(u=arguments,c=this,_=p,N){if(h===void 0)return a(_);if(A)return h=setTimeout(v,o),i(_)}return h===void 0&&(h=setTimeout(v,o)),b}return I.cancel=F,I.flush=$,I}function yt(n){var o=typeof n;return!!n&&(o=="object"||o=="function")}function Be(n){return!!n&&typeof n=="object"}function He(n){return typeof n=="symbol"||Be(n)&&Le.call(n)==Ee}function Nt(n){if(typeof n=="number")return n;if(He(n))return Lt;if(yt(n)){var o=typeof n.valueOf=="function"?n.valueOf():n;n=yt(o)?o+"":o}if(typeof n!="string")return n===0?n:+n;n=n.replace(je,"");var l=Se.test(n);return l||Ce.test(n)?xe(n.slice(2),l?2:8):Ae.test(n)?Lt:+n}var Dt=Re;const ct=Z.default.extend({name:"WeEditable",props:{option:{type:Object,required:!0},reloadbefore:{type:Function,default:()=>()=>{}},json:String,html:String},computed:{modelHtml(){return typeof this.html=="string"},modelJson(){return typeof this.json=="string"}},created(){const n={json:"",html:""};let o=null;const l=i=>{if(!i||i!=o)return;const a=i.isEmpty()?"":JSON.stringify(i.children);n.json!==a&&(n.json=a,this.$emit("update:json",a))},u=i=>{if(!i||i!=o)return;const a=i.isEmpty()?"":i.getHtml();n.html!==a&&(n.html=a,this.$emit("update:html",a))},c=i=>{this.modelJson&&l(i),this.modelHtml&&u(i)},d=[],b=()=>{d.length=0;const{delay:i,config:a}=this.option;this.modelJson&&d.push(i>0?Dt(l,i):l),this.modelHtml&&d.push(i>0?Dt(u,i):u),a&&a.onChange&&d.push(a.onChange)};this.$watch("option.delay",b),this.$watch("option.config.onChange",b);const h={customAlert:(i,a)=>{var f,w;(w=(f=this.option.config).customAlert)==null||w.call(f,i,a)},onCreated:i=>{var a,f;(f=(a=this.option.config).onCreated)==null||f.call(a,i)},onDestroyed:i=>{var a,f;(f=(a=this.option.config).onDestroyed)==null||f.call(a,i)},onMaxLength:i=>{var a,f;(f=(a=this.option.config).onMaxLength)==null||f.call(a,i)},onFocus:i=>{var a,f;(f=(a=this.option.config).onFocus)==null||f.call(a,i)},onBlur:i=>{var a,f;(f=(a=this.option.config).onBlur)==null||f.call(a,i)},onChange:i=>{d.forEach(a=>a(i))}},_=()=>{const i=this.$refs.elem;if(!i)return;o?(c(o),this.reloadbefore(o),o.destroy(),o=null):b();const{mode:a,config:f,defaultContent:w,defaultHtml:v,extendCache:C}=this.option,F={selector:i,mode:a!=null?a:"default",config:B(B({},f),h)};let $="",I="";C?n.json.length>2?$=n.json:n.html?I=n.html:$.length<3&&typeof v=="string"&&(I=v):(w&&($=Array.isArray(w)?JSON.stringify(w):w),$.length<3&&(typeof v=="string"&&v.length?I=v:n.json.length>2?$=n.json:n.html&&(I=n.html)));try{const p=JSON.parse($);p.length&&(o=g.createEditor(ot(B({},F),{content:p})))}catch(p){}finally{o||(o=g.createEditor(ot(B({},F),{html:I})))}return o.isEmpty()||c(o),o},j=()=>{if(!o||o.isEmpty())return;const i=o.isDisabled();o.enable(),o.clear(),i&&o.disable(),c(o)},M=Te(this.option,_,j,()=>c(o));this.$on("hook:mounted",M),this.$on("hook:beforeDestroy",()=>{o&&(c(o),o.blur(),setTimeout(()=>{o==null||o.destroy(),o=null},1e3))});function A(i,a){const f=i.isFocused(),w=i.isDisabled(),v=JSON.stringify(i.selection);if(w&&i.enable(),i.clear(),a(),w)i.disable();else if(!f)i.blur();else try{i.select(JSON.parse(v))}catch(C){i.select(g.SlateEditor.start(i,[]))}}this.$watch("json",()=>{if(!(!this.modelJson||this.json===n.json)){if(!o){n.json=this.json;return}try{const i=JSON.parse(this.json);A(o,()=>o.insertFragment(i))}catch(i){}}},{immediate:!0}),this.$watch("html",()=>{if(!(this.modelJson||!this.modelHtml||this.html===n.html)){if(!o){n.html=this.html;return}A(o,()=>{g.SlateTransforms.setNodes(o,{type:"paragraph"},{mode:"highest"}),o.dangerouslyInsertHtml(this.html)})}},{immediate:!0});const T=()=>{const i=Q.get(this.option);i&&q(i),q(this.option,M)};this.$watch("option.mode",T),this.$watch("option.config.decorate",T),this.$watch("option.config.maxLength",T),this.$watch("option.config.customPaste",T),this.$watch("option.config.hoverbarKeys",T,{deep:!0}),this.$watch("option.config.MENU_CONF",T,{deep:!0}),this.$watch("option.config.EXTEND_CONF",T,{deep:!0}),this.$watch("option.config.hoverbarKeys",T,{deep:!0}),this.$watch("option.config.hoverbarKeys",T,{deep:!0}),this.$watch("option.config.readOnly",i=>{o&&(i?o.disable():o.enable())}),this.$watch("option.config.placeholder",i=>{var f;const a=(f=this.$refs.elem)==null?void 0:f.querySelector(".w-e-text-placeholder");a instanceof HTMLElement&&(a.innerHTML=i!=null?i:"")}),this.$watch("option.config.scroll",i=>{var f;const a=(f=this.$refs.elem)==null?void 0:f.querySelector(".w-e-scroll");a instanceof HTMLElement&&(a.style.overflowY=i?"auto":"")})},render(n){return n("div",{ref:"elem"})}});ct.install=function(n){n.component("WeEditable",ct)};const _t=Z.default.extend({name:"WeEditor",props:{toolbarOption:{type:Object,required:!0},toolbarClass:[String,Object,Array],toolbarStyle:[String,Object],toolbarReloadbefore:{type:Function,default:()=>()=>{}},editableOption:{type:Object,required:!0},editableClass:[String,Object],editableStyle:[String,Object],editableReloadbefore:{type:Function,default:()=>()=>{}},json:String,html:String},render(n){return n("div",[n(st,{class:this.toolbarClass,style:this.toolbarStyle,props:{option:this.toolbarOption,reloadbefore:this.toolbarReloadbefore}}),n(ct,{class:this.editableClass,style:this.editableStyle,props:{option:this.editableOption,json:this.json,html:this.html,reloadbefore:this.editableReloadbefore},on:{"update:json":o=>this.$emit("update:json",o),"update:html":o=>this.$emit("update:html",o)}})])}});_t.install=function(n){n.component("WeEditor",_t)};var We={en:{mode:{title:"Toggle Mode",editor:"{mode} Editor",toolbar:"{mode} Toolbar",editable:"{mode} Editable",standardAuto:"Toggle Editor Mode"}},"zh-CN":{mode:{title:"\u5207\u6362\u6A21\u5F0F",editor:"{mode} \u7F16\u8F91\u5668",toolbar:"{mode} \u83DC\u5355\u680F",editable:"{mode} \u7F16\u8F91\u533A",standardAuto:"\u5207\u6362\u7F16\u8F91\u5668\u6A21\u5F0F"}}};const Rt='<svg viewBox="0 0 1024 1024"><path d="M888.296727 536.424727H656.721455c-57.669818 0-104.517818 48.325818-104.517819 107.799273V883.2c0 28.788364 10.903273 55.854545 30.685091 76.264727 19.816727 20.258909 46.056727 31.394909 73.844364 31.266909h231.575273c57.646545 0 104.517818-48.290909 104.517818-107.764363V644.212364c-0.011636-59.461818-46.882909-107.787636-104.529455-107.787637z m5.213091 334.894546c0 9.506909-7.424 17.175273-16.523636 17.175272H667.787636c-5.969455 0-9.832727-3.141818-11.694545-5.131636a16.698182 16.698182 0 0 1-4.677818-11.892364V655.860364c0-9.506909 7.377455-17.175273 16.477091-17.175273h209.105454c9.099636 0 16.523636 7.656727 16.523637 17.175273v215.458909zM146.874182 454.306909h231.552c57.693091 0 104.552727-48.290909 104.552727-107.764364V107.764364c0-59.426909-47.010909-107.764364-104.552727-107.764364H146.874182C89.204364 0 42.333091 48.325818 42.333091 107.764364v239.022545c0 28.788364 10.926545 55.819636 30.708364 76.229818 19.793455 20.293818 46.021818 31.429818 73.832727 31.290182z m-5.341091-334.999273c0-9.506909 7.412364-17.175273 16.512-17.175272H367.127273c9.099636 0 16.512 7.656727 16.512 17.175272V334.894545c0 9.506909-7.412364 17.140364-16.512 17.140364H157.917091c-5.946182 0-9.844364-3.118545-11.648-5.096727a16.558545 16.558545 0 0 1-4.736-11.892364v-215.738182zM980.48 101.492364h-4.48c-23.784727 0-43.368727 20.119273-43.368727 44.672v69.981091C844.730182 111.476364 725.143273 42.402909 592.570182 16.244364c-5.096727-2.525091-10.798545-3.758545-16.663273-4.282182-1.210182-0.244364-2.408727-0.721455-3.642182-0.849455v0.372364c-25.716364 0.244364-46.487273 21.783273-46.487272 48.325818 0 26.507636 20.770909 47.918545 46.487272 48.290909v0.523637C727.691636 138.018909 862.103273 238.545455 934.702545 388.258909c4.037818 8.273455 10.344727 14.021818 17.373091 18.408727 6.923636 4.887273 14.952727 8.506182 23.924364 8.506182h4.48c23.819636 0 43.368727-20.165818 43.368727-44.718545V146.397091c-0.011636-24.785455-19.549091-44.904727-43.368727-44.904727zM463.36 928.360727c-0.244364 0-0.384 0.104727-0.488727 0.104728-159.441455-25.157818-298.821818-124.916364-374.597818-275.735273-6.306909-16.651636-21.853091-28.544-40.192-28.544h-4.468364c-19.316364 0-35.211636 13.509818-40.797091 31.546182-1.221818 3.141818-1.466182 6.516364-1.943273 9.902545-0.116364 1.140364-0.605091 2.106182-0.605091 3.234909v2.269091c0 2.234182-0.244364 4.375273 0 6.609455v215.319272c0 24.541091 19.549091 44.683636 43.345455 44.683637h4.48c23.796364 0 43.368727-20.130909 43.368727-44.683637v-69.352727c91.298909 106.135273 215.517091 174.487273 352.360727 197.422546 5.934545 2.862545 13.707636 2.862545 20.747637 2.862545 0.244364 0 0.360727-0.151273 0.500363-0.151273h0.244364v-0.104727c25.728-0.512 45.277091-20.154182 45.277091-46.708364-0.011636-26.914909-21.12-48.674909-47.232-48.674909z" p-id="48689"></path></svg>';function Bt(n,o,l){const{toolbar:u,editable:c}=It(n);if(o==="editor"){if(l==="toolbar"){u.mode=u.mode==="default"?"simple":"default",c.mode=u.mode;return}if(l==="editable"){u.mode=c.mode==="default"?"simple":"default",c.mode=u.mode;return}}o!=="editable"&&(u.mode=u.mode==="default"?"simple":"default"),o!=="toolbar"&&(c.mode=c.mode==="default"?"simple":"default")}class Pe{constructor(o){this.standrad=o,this.tag="button",this.title=g.t("mode.title"),this.iconSvg=Rt,this.type="editor"}getValue(){return!1}isActive(){return!1}isDisabled(){return!1}exec(o){Bt(o,this.type,this.standrad)}}function Tt(n){return n==="default"?"simple":n==="simple"?"default":n}class Ke{constructor(o){this.standard=o,this.tag="select",this.title=g.t("mode.title"),this.iconSvg=Rt}getOptions(o){const{toolbar:l,editable:u}=It(o),c=this.standard==="editable"?u.mode:this.standard==="toolbar"?l.mode:u.mode===l.mode?u.mode:"";return[{text:g.t("mode.title"),value:"mode",styleForRenderMenuList:{padding:"10px 0",borderBottom:"1px solid var(--w-e-toolbar-border-color)",cursor:"not-allowed",textAlign:"center"}},{text:c?g.t("mode.editor").replace("{mode}",Tt(c)):g.t("mode.standardAuto"),value:"editor",styleForRenderMenuList:{padding:"7px 25px"}},{text:g.t("mode.toolbar").replace("{mode}",Tt(l.mode)),value:"toolbar",styleForRenderMenuList:{padding:"7px 25px"}},{text:g.t("mode.editable").replace("{mode}",Tt(u.mode)),value:"editable",styleForRenderMenuList:{padding:"7px 27px"}}]}getValue(){return"mode"}isActive(){return!1}isDisabled(){return!1}exec(o,l){l!=="mode"&&Bt(o,l,this.standard)}}function ke(n="auto"){const o=[{key:"toggleModeButton",factory(){return new Pe(n)}},{key:"toggleModeSelect",factory(){return new Ke(n)}}];return g.Boot.registerModule({menus:o}),o.map(({key:l})=>l)}const Ht="toggleModeSelect";function Ue(n){const{divider:o=!0,locale:l,standard:u,menu:c=Ht}=n!=null?n:{},d=Object.assign({},We,l);Object.entries(d).forEach(([M,A])=>g.i18nAddResources(M,A));const b=ke(u);if(c===!1)return;const h=[];h.push(b.includes(c)?c:Ht),o&&h.unshift("|");const _=g.Boot.toolbarConfig.toolbarKeys;Array.isArray(_)?_.push(...h):g.Boot.setToolbarConfig({toolbarKeys:h});const j=g.Boot.simpleToolbarConfig.toolbarKeys;Array.isArray(j)?j.push(...h):g.Boot.setSimpleToolbarConfig({toolbarKeys:h})}y.WeEditable=ct,y.WeEditor=_t,y.WeToolbar=st,y.registToggleMode=Ue,y.useWangEditor=we,Object.defineProperties(y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
//# sourceMappingURL=index.js.map
