!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.MinDom={})}(this,function(e){"use strict";var s=Object.prototype.toString,u=Object.prototype.hasOwnProperty;function o(e,t){var r;if(void 0!==e){var n,i,o,l=(n=e,"[object Array]"===s.call(n)?d:c);for(var a in e)if(i=e,o=a,u.call(i,o)&&!1===t(r=e[a],l(a)))return r}}function c(e){return e}function d(e){return Number(e)}function n(e,t){if(i)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}var i=[].indexOf,t=/\s+/,l=Object.prototype.toString;function r(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}r.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~n(t,e)||t.push(e),this.el.className=t.join(" "),this},r.prototype.remove=function(e){if("[object RegExp]"==l.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),r=n(t,e);return~r&&t.splice(r,1),this.el.className=t.join(" "),this},r.prototype.removeMatching=function(e){for(var t=this.array(),r=0;r<t.length;r++)e.test(t[r])&&this.remove(t[r]);return this},r.prototype.toggle=function(e,t){return this.list?void 0!==t&&t===this.list.toggle(e,t)||this.list.toggle(e):void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this},r.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(t);return""===e[0]&&e.shift(),e},r.prototype.has=r.prototype.contains=function(e){return this.list?this.list.contains(e):!!~n(this.array(),e)};var a="undefined"!=typeof Element?Element.prototype:{},f=a.matches||a.matchesSelector||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector,h=function(e,t){if(!e||1!==e.nodeType)return!1;if(f)return f.call(e,t);for(var r=e.parentNode.querySelectorAll(t),n=0;n<r.length;n++)if(r[n]==e)return!0;return!1};function p(e,t,r){for(var n=r?e:e.parentNode;n&&n.nodeType!==document.DOCUMENT_NODE&&n.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(h(n,t))return n;n=n.parentNode}return h(n,t)?n:null}var v=window.addEventListener?"addEventListener":"attachEvent",y=window.removeEventListener?"removeEventListener":"detachEvent",m="addEventListener"!=v?"on":"",g={bind:function(e,t,r,n){return e[v](m+t,r,n||!1),r},unbind:function(e,t,r,n){return e[y](m+t,r,n||!1),r}},b=["focus","blur"];function E(e,t){if("string"!=typeof e)throw new TypeError("String expected");t=t||document;var r=/<([\w:]+)/.exec(e);if(!r)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var n=r[1];if("body"==n){return(i=t.createElement("html")).innerHTML=e,i.removeChild(i.lastChild)}var i,o=M[n]||M._default,l=o[0],a=o[1],s=o[2];for((i=t.createElement("div")).innerHTML=a+e+s;l--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);for(var u=t.createDocumentFragment();i.firstChild;)u.appendChild(i.removeChild(i.firstChild));return u}var N,w={bind:function(r,n,e,i,t){return-1!==b.indexOf(e)&&(t=!0),g.bind(r,e,function(e){var t=e.target||e.srcElement;e.delegateTarget=p(t,n,!0),e.delegateTarget&&i.call(r,e)},t)},unbind:function(e,t,r,n){return-1!==b.indexOf(t)&&(n=!0),g.unbind(e,t,r,n)}},C=!1;"undefined"!=typeof document&&((N=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',C=!N.getElementsByTagName("link").length,N=void 0);var M={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:C?[1,"X<div>","</div>"]:[0,"",""]};M.td=M.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],M.option=M.optgroup=[1,'<select multiple="multiple">',"</select>"],M.thead=M.tbody=M.colgroup=M.caption=M.tfoot=[1,"<table>","</table>"],M.polyline=M.ellipse=M.polygon=M.circle=M.text=M.line=M.path=M.rect=M.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"],e.assignStyle=function(e){for(var r=e.style,t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return o(n,function(e){e&&o(e,function(e,t){r[t]=e})}),e},e.attr=function(e,t,r){return 2==arguments.length?e.getAttribute(t):null===r?e.removeAttribute(t):(e.setAttribute(t,r),e)},e.classes=function(e){return new r(e)},e.clear=function(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e},e.closest=p,e.delegate=w,e.domify=E,e.event=g,e.matches=h,e.query=function(e,t){return(t=t||document).querySelector(e)},e.queryAll=function(e,t){return(t=t||document).querySelectorAll(e)},e.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)},Object.defineProperty(e,"__esModule",{value:!0})});
