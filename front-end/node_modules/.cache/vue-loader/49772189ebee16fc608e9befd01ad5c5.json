{"remainingRequest":"E:\\SoftwareDevelopment\\software\\开源二手商城\\cloud-secondhand-trading\\front-end\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\SoftwareDevelopment\\software\\开源二手商城\\cloud-secondhand-trading\\front-end\\src\\views\\member\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\SoftwareDevelopment\\software\\开源二手商城\\cloud-secondhand-trading\\front-end\\src\\views\\member\\index.vue","mtime":1681796553954},{"path":"E:\\SoftwareDevelopment\\software\\开源二手商城\\cloud-secondhand-trading\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\SoftwareDevelopment\\software\\开源二手商城\\cloud-secondhand-trading\\front-end\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\SoftwareDevelopment\\software\\开源二手商城\\cloud-secondhand-trading\\front-end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\SoftwareDevelopment\\software\\开源二手商城\\cloud-secondhand-trading\\front-end\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsaXN0LCByZW1vdmUsIG1lbWJlckRldGFpbCB9IGZyb20gJ0AvYXBpL21lbWJlci9tZW1iZXInDQppbXBvcnQgeyBxdWVyeU1lbWJlckFkZHIgfSBmcm9tICdAL2FwaS9tZW1iZXIvYWRkcicNCg0KaW1wb3J0IHsgcm9sZVNlbGVjdCB9IGZyb20gJ0AvYXBpL2FkbWluL3JvbGUnDQppbXBvcnQgcGFnaW5hdGlvbiBmcm9tICdAL2NvbXBvbmVudHMvUGFnaW5hdGlvbicNCmltcG9ydCB7IGV4cG9ydEZpbGUgfSBmcm9tICdAL3V0aWxzL3JlcXVlc3QnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogeyBwYWdpbmF0aW9uIH0sDQogIGZpbHRlcnM6IHsNCiAgICBzdGF0dXNGaWx0ZXIoc3RhdHVzKSB7DQogICAgICBjb25zdCBzdGF0dXNNYXAgPSB7DQogICAgICAgIHB1Ymxpc2hlZDogJ3N1Y2Nlc3MnLA0KICAgICAgICBkcmFmdDogJ2dyYXknLA0KICAgICAgICBkZWxldGVkOiAnZGFuZ2VyJw0KICAgICAgfQ0KICAgICAgcmV0dXJuIHN0YXR1c01hcFtzdGF0dXNdDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhZGRyVG90YWw6IDAsDQogICAgICBhZGRyTGlzdDogW10sDQogICAgICBhZGRyVmlzaWJsZTogZmFsc2UsDQogICAgICByb2xlU2VsZWN0OiBbXSwNCiAgICAgIGNoZWNrZWRJZHM6IFtdLA0KICAgICAgdXNlckZvcm1UaXRsZTogJycsDQogICAgICB1c2VyRm9ybVNob3c6IGZhbHNlLA0KICAgICAgdXNlckZvcm06IHsNCiAgICAgICAgaWQ6ICcnLA0KICAgICAgICB1c2VybmFtZTogJycsDQogICAgICAgIG5pY2tuYW1lOiAnJywNCiAgICAgICAgZ2VuZGVyOiAwLA0KICAgICAgICBtb2JpbGU6ICcnLA0KICAgICAgICBzdGF0dXM6IDEsDQogICAgICAgIGVtYWlsOiAnJywNCiAgICAgICAgbWVtYmVyQWRkcjoge30NCiAgICAgIH0sDQogICAgICB0b3RhbDogMCwNCiAgICAgIHF1ZXJ5UGFyYW1zOiB7DQogICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgbmlja25hbWU6ICcnLA0KICAgICAgICBtb2JpbGU6ICcnLA0KICAgICAgICBlbWFpbDogJycsDQogICAgICAgIHBhZ2VObzogMSwNCiAgICAgICAgcGFnZVNpemU6IDE1DQogICAgICB9LA0KICAgICAgYWRkclF1ZXJ5UGFyYW1zOiB7DQogICAgICAgIHBhZ2VObzogMSwNCiAgICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgICBtZW1iZXJJZDogJycNCiAgICAgIH0sDQogICAgICBsaXN0OiBudWxsLA0KICAgICAgbGlzdExvYWRpbmc6IHRydWUNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRMaXN0KCkNCiAgICB0aGlzLmxvYWRSb2xlSWRzKCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGhhbmRsZVF1ZXJ5QWRkcihtZW1iZXJJZCkgew0KICAgICAgdGhpcy5hZGRyUXVlcnlQYXJhbXMubWVtYmVySWQgPSBtZW1iZXJJZA0KICAgICAgLy8g5p+l6K+i5pS26I635Zyw5Z2ADQogICAgICBxdWVyeU1lbWJlckFkZHIodGhpcy5hZGRyUXVlcnlQYXJhbXMpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5hZGRyTGlzdCA9IHJlcy5kYXRhLmxpc3QNCiAgICAgICAgdGhpcy5hZGRyVG90YWwgPSByZXMuZGF0YS50b3RhbA0KICAgICAgICB0aGlzLmFkZHJWaXNpYmxlID0gdHJ1ZQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8NCiAgICBoYW5kbGVRdWVyeSgpIHsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpDQogICAgfSwNCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovDQogICAgcmVzZXRRdWVyeSgpIHsNCiAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSB7DQogICAgICAgIHVzZXJuYW1lOiAnJywNCiAgICAgICAgbmlja25hbWU6ICcnLA0KICAgICAgICBtb2JpbGU6ICcnLA0KICAgICAgICBlbWFpbDogJycsDQogICAgICAgIHBhZ2VObzogMSwNCiAgICAgICAgcGFnZVNpemU6IDE1DQogICAgICB9DQogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCkNCiAgICB9LA0KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWx1ZXMpIHsNCiAgICAgIHRoaXMuY2hlY2tlZElkcyA9IFtdDQogICAgICB2YWx1ZXMubWFwKHJlcyA9PiB0aGlzLmNoZWNrZWRJZHMucHVzaChyZXMuaWQpKQ0KICAgIH0sDQogICAgaGFuZGxlRXhwb3J0KCkgew0KICAgICAgZXhwb3J0RmlsZSgnL2Nsb3VkLW1lbWJlci9tZW1iZXIvZXhwb3J0JywgJ+S8muWRmOWIl+ihqCcpDQogICAgfSwNCiAgICBoYW5kbGVEZWxldGVzKCkgew0KICAgICAgaWYgKHRoaXMuY2hlY2tlZElkcy5sZW5ndGggPT09IDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLA0KICAgICAgICAgIG1lc3NhZ2U6ICfor7fli77pgInpnIDopoHliKDpmaTnmoTorrDlvZUhJw0KICAgICAgICB9KQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMuJGNvbmZpcm0oYOehruWumuaJp+ihjOWIoOmZpOaTjeS9nOWQl++8n2AsICfmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfliKDpmaQnLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn566X5LqG5ZCnJywNCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgcmVtb3ZlKHRoaXMuY2hlY2tlZElkcykudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOaIkOWKnyEnDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLmdldExpc3QoKQ0KICAgICAgICB9KQ0KICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICB0eXBlOiAnaW5mbycsDQogICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOaTjeS9nCcNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfSwNCiAgICBnZXRMaXN0KCkgew0KICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWUNCiAgICAgIGxpc3QodGhpcy5xdWVyeVBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgIHRoaXMubGlzdCA9IHJlc3BvbnNlLmRhdGEubGlzdA0KICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbA0KICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UNCiAgICAgIH0pDQogICAgfSwNCiAgICBsb2FkUm9sZUlkcygpIHsNCiAgICAgIHJvbGVTZWxlY3QoKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMucm9sZVNlbGVjdCA9IHJlcy5kYXRhDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlU3RhdHVzQ2hhbmdlKHJvdykgew0KICAgICAgY29uc3Qgc3RhdHVzVGV4dCA9IHJvdy5zdGF0dXMgPT09IDEgPyAn5ZCv55SoJyA6ICfnpoHnlKgnDQogICAgICB0aGlzLiRjb25maXJtKGDmraTmk43kvZzlsIYke3N0YXR1c1RleHR96K+l5Lya5ZGYYCwgJ+aYr+WQpue7p+e7rT8nLCAn5o+Q56S6Jywgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICB0eXBlOiAnd2FybmluZycNCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB1cGRhdGVTdGF0dXMocm93LmlkLCByb3cuc3RhdHVzKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICBtZXNzYWdlOiAn5pON5L2c5oiQ5YqfIScNCiAgICAgICAgICB9KQ0KICAgICAgICB9KQ0KICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICB0eXBlOiAnaW5mbycsDQogICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOaTjeS9nCcNCiAgICAgICAgfSkNCiAgICAgICAgcm93LnN0YXR1cyA9IHJvdy5zdGF0dXMgPT09IDEgPyAwIDogMQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGhhbmRsZUVkaXQoaWQpIHsNCiAgICAgIHRoaXMuJGNvbW1vbi5jbGVhcih0aGlzLnVzZXJGb3JtKQ0KICAgICAgdGhpcy51c2VyRm9ybVRpdGxlID0gJ+eUqOaIt+ivpuaDhScNCiAgICAgIG1lbWJlckRldGFpbChpZCkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLnVzZXJGb3JtID0gcmVzLmRhdGENCiAgICAgICAgdGhpcy51c2VyRm9ybVNob3cgPSB0cnVlDQogICAgICB9KQ0KICAgIH0sDQogICAgaGFuZGxlRGVsZXRlKHJvdykgew0KICAgICAgdGhpcy4kY29uZmlybShg56Gu5a6a5Yig6ZmkPCR7cm93LnVzZXJuYW1lfT7nlKjmiLflkJfvvJ9gLCAn5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5Yig6ZmkJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+eul+S6huWQpycsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHJlbW92ZShbcm93LmlkXSkudGhlbihyZXMgPT4gew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOaIkOWKnyEnDQogICAgICAgICAgfSkNCiAgICAgICAgICB0aGlzLmdldExpc3QoKQ0KICAgICAgICB9KQ0KICAgICAgfSkuY2F0Y2goKCkgPT4gew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICB0eXBlOiAnaW5mbycsDQogICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOaTjeS9nCcNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+PA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/member","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-row style=\"margin-bottom: 12px\">\r\n      <el-col :span=\"5\">\r\n        <el-button icon=\"el-icon-download\" size=\"mini\" type=\"warning\" @click=\"handleExport()\"\r\n                   v-permission=\"'admin:user:add'\"\r\n        >导出\r\n        </el-button>\r\n        <el-button icon=\"el-icon-delete\" size=\"mini\" type=\"danger\" @click=\"handleDeletes()\">删除</el-button>\r\n      </el-col>\r\n      <el-col :span=\"19\">\r\n        <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" style=\"float: right\" :inline=\"true\">\r\n          <el-form-item label=\"用户名\" prop=\"deptName\">\r\n            <el-input\r\n              v-model=\"queryParams.username\"\r\n              placeholder=\"请输入用户名\"\r\n              clearable\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"昵称\" prop=\"status\">\r\n            <el-input\r\n              v-model=\"queryParams.nickname\"\r\n              placeholder=\"请输入用户昵称\"\r\n              clearable\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"手机号\" prop=\"status\">\r\n            <el-input\r\n              v-model=\"queryParams.mobile\"\r\n              placeholder=\"请输入手机号\"\r\n              clearable\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"邮箱\" prop=\"status\">\r\n            <el-input\r\n              v-model=\"queryParams.email\"\r\n              placeholder=\"请输入邮箱\"\r\n              clearable\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n            <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n    </el-row>\r\n    <el-table\r\n      :row-style=\"{height:'45px'}\"\r\n      :cell-style=\"{padding:'0px'}\"\r\n      v-loading=\"listLoading\"\r\n      :data=\"list\"\r\n      element-loading-text=\"Loading\"\r\n      @selection-change=\"handleSelectionChange\"\r\n      border\r\n      fit\r\n      highlight-current-row\r\n    >\r\n      <el-table-column\r\n        type=\"selection\"\r\n        width=\"55\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" label=\"用户名\" prop=\"username\"/>\r\n      <el-table-column label=\"昵称\" align=\"center\" prop=\"nickname\" v-permission=\"'admin:user:add'\"/>\r\n      <el-table-column label=\"手机号\" align=\"center\" prop=\"mobile\" width=\"150\"/>\r\n      <el-table-column label=\"邮箱\" align=\"center\" prop=\"email\"/>\r\n      <el-table-column class-name=\"status-col\" label=\"性别\" width=\"110\" align=\"center\">\r\n        <template v-slot=\"scope\">\r\n          <el-tag :type=\"scope.row.gender===1?'primary':'success'\">{{ scope.row.gender === 1 ? '男' : '女' }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column align=\"center\" prop=\"created_at\" label=\"账号状态\" width=\"80\">\r\n        <template slot-scope=\"scope\">\r\n          <el-switch\r\n            v-model=\"scope.row.status\"\r\n            :active-value=\"1\"\r\n            :inactive-value=\"0\"\r\n            active-color=\"#13ce66\"\r\n            inactive-color=\"#ff4949\"\r\n            @change=\"handleStatusChange(scope.row)\"\r\n          >\r\n          </el-switch>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"注册时间\" align=\"center\" prop=\"createTime\" width=\"180\"/>\r\n      <el-table-column align=\"center\" prop=\"created_at\" label=\"操作\">\r\n        <template v-slot=\"scope\">\r\n          <el-button type=\"primary\" size=\"mini\" @click=\"handleEdit(scope.row.id)\" icon=\"el-icon-search\">详情</el-button>\r\n          <el-button type=\"danger\" size=\"mini\" @click=\"handleDelete(scope.row)\" icon=\"el-icon-delete\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"queryParams.pageNo\" :limit.sync=\"queryParams.pageSize\" @pagination=\"getList\"/>\r\n    <el-dialog :title=\"userFormTitle\" :visible.sync=\"userFormShow\">\r\n      <div style=\"text-align: center;margin-bottom: 20px\">\r\n        <el-image\r\n          :preview-src-list=\"['https://ichef.bbci.co.uk/news/1024/branded_zhongwen/17DE8/production/_102686779_momo.jpg']\"\r\n          src=\"https://ichef.bbci.co.uk/news/1024/branded_zhongwen/17DE8/production/_102686779_momo.jpg\"\r\n          style=\"width: 120px;height: 120px;border-radius: 100px\"\r\n        ></el-image>\r\n      </div>\r\n      <el-descriptions class=\"margin-top\" :column=\"3\" :size=\"15\" border>\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-user\"></i>\r\n            用户名\r\n          </template>\r\n          {{ userForm.username }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-user\"></i>\r\n            昵称\r\n          </template>\r\n          {{ userForm.nickname }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-male\"></i>\r\n            性别\r\n          </template>\r\n          <el-tag size=\"small\">{{ userForm.gender == 1 ? '男' : '女' }}</el-tag>\r\n        </el-descriptions-item>\r\n\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-mobile-phone\"></i>\r\n            手机号\r\n          </template>\r\n          {{ userForm.mobile }}\r\n        </el-descriptions-item>\r\n\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-message\"></i>\r\n            邮箱\r\n          </template>\r\n          {{ userForm.email }}\r\n        </el-descriptions-item>\r\n\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-date\"></i>\r\n            生日\r\n          </template>\r\n          {{ userForm.birth }}\r\n        </el-descriptions-item>\r\n\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-bank-card\"></i>\r\n            注册时间\r\n          </template>\r\n          {{ userForm.createTime }}\r\n        </el-descriptions-item>\r\n\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-edit\"></i>\r\n            修改时间\r\n          </template>\r\n          {{ userForm.updateTime }}\r\n        </el-descriptions-item>\r\n\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-s-promotion\"></i>\r\n            最近登陆时间\r\n          </template>\r\n          {{ userForm.updateTime }}\r\n        </el-descriptions-item>\r\n        <el-descriptions-item :span=\"2\">\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-office-building\"></i>\r\n            默认地址\r\n          </template>\r\n          {{\r\n            userForm.memberAddr ? userForm.memberAddr.province + '-' + userForm.memberAddr.city + '-' + userForm.memberAddr.area + '-' + userForm.memberAddr.addr : '暂无'\r\n          }}\r\n        </el-descriptions-item>\r\n\r\n        <el-descriptions-item>\r\n          <template slot=\"label\">\r\n            <i class=\"el-icon-office-building\"></i>\r\n            其他地址\r\n          </template>\r\n          <el-link type=\"primary\" @click=\"handleQueryAddr(userForm.id)\" >查看</el-link>\r\n        </el-descriptions-item>\r\n      </el-descriptions>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"userFormShow = false\">关 闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <el-dialog\r\n      title=\"收货地址列表\"\r\n      :visible.sync=\"addrVisible\"\r\n    >\r\n      <el-table\r\n        :data=\"addrList\"\r\n        border>\r\n        <el-table-column  label=\"收件人\" width=\"100\">\r\n          <template v-slot=\"scope\">\r\n            {{scope.row.consignee}}<el-tag v-if=\"scope.row.isDefault\" size=\"mini\" effect=\"plain\">默认</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"mobile\"\r\n          label=\"手机号\"\r\n          width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          :show-overflow-tooltip=\"true\"\r\n          prop=\"province\"\r\n          label=\"省份\"\r\n          width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          :show-overflow-tooltip=\"true\"\r\n          prop=\"city\"\r\n          label=\"城市\"\r\n          width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"area\"\r\n          label=\"地区\"\r\n          width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          :show-overflow-tooltip=\"true\"\r\n          prop=\"addr\"\r\n          label=\"地址\">\r\n        </el-table-column>\r\n        <el-table-column\r\n          prop=\"postCode\"\r\n          label=\"邮编\"\r\n          width=\"80\">\r\n        </el-table-column>\r\n      </el-table>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"addrVisible = false\">取 消</el-button>\r\n  </span>\r\n      <pagination v-show=\"addrTotal>0\" :total=\"addrTotal\" :page.sync=\"addrQueryParams.pageNo\" :limit.sync=\"addrQueryParams.pageSize\" @pagination=\"handleQueryAddr\"/>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { list, remove, memberDetail } from '@/api/member/member'\r\nimport { queryMemberAddr } from '@/api/member/addr'\r\n\r\nimport { roleSelect } from '@/api/admin/role'\r\nimport pagination from '@/components/Pagination'\r\nimport { exportFile } from '@/utils/request'\r\n\r\nexport default {\r\n  components: { pagination },\r\n  filters: {\r\n    statusFilter(status) {\r\n      const statusMap = {\r\n        published: 'success',\r\n        draft: 'gray',\r\n        deleted: 'danger'\r\n      }\r\n      return statusMap[status]\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      addrTotal: 0,\r\n      addrList: [],\r\n      addrVisible: false,\r\n      roleSelect: [],\r\n      checkedIds: [],\r\n      userFormTitle: '',\r\n      userFormShow: false,\r\n      userForm: {\r\n        id: '',\r\n        username: '',\r\n        nickname: '',\r\n        gender: 0,\r\n        mobile: '',\r\n        status: 1,\r\n        email: '',\r\n        memberAddr: {}\r\n      },\r\n      total: 0,\r\n      queryParams: {\r\n        username: '',\r\n        nickname: '',\r\n        mobile: '',\r\n        email: '',\r\n        pageNo: 1,\r\n        pageSize: 15\r\n      },\r\n      addrQueryParams: {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        memberId: ''\r\n      },\r\n      list: null,\r\n      listLoading: true\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n    this.loadRoleIds()\r\n  },\r\n  methods: {\r\n    handleQueryAddr(memberId) {\r\n      this.addrQueryParams.memberId = memberId\r\n      // 查询收获地址\r\n      queryMemberAddr(this.addrQueryParams).then(res => {\r\n        this.addrList = res.data.list\r\n        this.addrTotal = res.data.total\r\n        this.addrVisible = true\r\n      })\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.getList()\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.queryParams = {\r\n        username: '',\r\n        nickname: '',\r\n        mobile: '',\r\n        email: '',\r\n        pageNo: 1,\r\n        pageSize: 15\r\n      }\r\n      this.handleQuery()\r\n    },\r\n    handleSelectionChange(values) {\r\n      this.checkedIds = []\r\n      values.map(res => this.checkedIds.push(res.id))\r\n    },\r\n    handleExport() {\r\n      exportFile('/cloud-member/member/export', '会员列表')\r\n    },\r\n    handleDeletes() {\r\n      if (this.checkedIds.length === 0) {\r\n        this.$message({\r\n          type: 'warning',\r\n          message: '请勾选需要删除的记录!'\r\n        })\r\n        return\r\n      }\r\n      this.$confirm(`确定执行删除操作吗？`, '是否继续?', '提示', {\r\n        confirmButtonText: '删除',\r\n        cancelButtonText: '算了吧',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        remove(this.checkedIds).then(res => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '操作成功!'\r\n          })\r\n          this.getList()\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '取消操作'\r\n        })\r\n      })\r\n    },\r\n    getList() {\r\n      this.listLoading = true\r\n      list(this.queryParams).then(response => {\r\n        this.list = response.data.list\r\n        this.total = response.data.total\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    loadRoleIds() {\r\n      roleSelect().then(res => {\r\n        this.roleSelect = res.data\r\n      })\r\n    },\r\n    handleStatusChange(row) {\r\n      const statusText = row.status === 1 ? '启用' : '禁用'\r\n      this.$confirm(`此操作将${statusText}该会员`, '是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        updateStatus(row.id, row.status).then(res => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '操作成功!'\r\n          })\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '取消操作'\r\n        })\r\n        row.status = row.status === 1 ? 0 : 1\r\n      })\r\n    },\r\n    handleEdit(id) {\r\n      this.$common.clear(this.userForm)\r\n      this.userFormTitle = '用户详情'\r\n      memberDetail(id).then(res => {\r\n        this.userForm = res.data\r\n        this.userFormShow = true\r\n      })\r\n    },\r\n    handleDelete(row) {\r\n      this.$confirm(`确定删除<${row.username}>用户吗？`, '是否继续?', '提示', {\r\n        confirmButtonText: '删除',\r\n        cancelButtonText: '算了吧',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        remove([row.id]).then(res => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '操作成功!'\r\n          })\r\n          this.getList()\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '取消操作'\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}